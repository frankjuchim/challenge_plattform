{% extends "base.html" %}
{% block content %}

<h2>üèÜ Scoreboard</h2>

{% if challenge %}
  <p><strong>{{ challenge.title }}</strong></p>

  <table>
    <tr>
      <th>Team</th>
      {% for task in tasks %}
        <th>{{ task.title }}</th>
      {% endfor %}
      <th>Gesamt</th>
    </tr>

    {% for team in teams %}
      <tr>
        <td><strong>{{ team.name }}</strong></td>

        {% for task in tasks %}
          <td>
            {{ team.task_points[task.id] }}
          </td>
        {% endfor %}

        <td><strong>{{ team.total }}</strong></td>
      </tr>
    {% endfor %}
  </table>

{% else %}
  <p>Keine aktive Challenge</p>
{% endif %}

<script>
  // Auto-Refresh f√ºr Beamer
  setTimeout(() => location.reload(), 5000);
</script>

{% endblock %}
