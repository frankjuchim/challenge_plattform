{% extends "base.html" %}
{% block content %}

<h2>Abgaben bewerten</h2>

<table>
  <tr>
    <th>Team</th>
    <th>Aufgabe</th>
    <th>Datei</th>
    <th>Bewertung</th>
    <th>Aktion</th>
  </tr>

{% for s in submissions %}
  <tr>
    <td>{{ s.team }}</td>
    <td>{{ s.task }}</td>
    <td>
      <a href="/admin/download/{{ s.id }}">Download</a>
    </td>

    <td>
      <form method="post" action="/admin/grade/{{ s.id }}">
        <input type="number"
               name="points"
               min="0"
               placeholder="Punkte"
               value="{{ s.points }}"
               required>

        <br>

        <input type="text"
               name="comment"
               placeholder="Kommentar (optional)"
               value="{{ s.comment or '' }}">

        <br><br>
        <button type="submit">ðŸ’¾ Bewertung speichern</button>
      </form>
    </td>

    <td>
      <form method="post"
            action="/admin/reset/{{ s.id }}"
            onsubmit="return confirm('Abgabe wirklich lÃ¶schen?')">
        <button type="submit" class="reset">â™» Soft-Reset</button>
      </form>
    </td>
  </tr>
{% endfor %}
</table>

<a href="/admin/dashboard">â¬… zurÃ¼ck</a>

{% endblock %}
