{% extends "base.html" %}
{% block content %}

<h2>Admin Dashboard</h2>
<p>
  <a href="/admin/logout">ğŸ”“ Abmelden</a>
</p>

<div class="admin-grid">

  <a class="admin-card primary" href="/admin/challenge/new">
    <div class="icon">â•</div>
    <div class="title">Neue Challenge</div>
    <div class="desc">Challenge anlegen und vorbereiten</div>
  </a>

  <a class="admin-card" href="/admin/submissions">
    <div class="icon">ğŸ“</div>
    <div class="title">Abgaben bewerten</div>
    <div class="desc">Punkte vergeben & Feedback</div>
  </a>

  <a class="admin-card" href="/admin/teams">
    <div class="icon">ğŸ‘¥</div>
    <div class="title">Teams verwalten</div>
    <div class="desc">Teams anzeigen & lÃ¶schen</div>
  </a>

  <a class="admin-card success" href="/scoreboard" target="_blank">
    <div class="icon">ğŸ†</div>
    <div class="title">Scoreboard</div>
    <div class="desc">Live-Ãœbersicht (Beamer)</div>
  </a>

</div>

<h3>Challenges</h3>

<ul>
{% for c in challenges %}
  <li>
    <strong>{{ c.title }}</strong>

    {% if c.active %}
      <span class="ok">(aktiv)</span>
    {% else %}
      <a href="/admin/challenge/{{ c.id }}/activate">Aktivieren</a>
    {% endif %}

    Â· <a href="/admin/challenge/{{ c.id }}/tasks">Aufgaben</a>

    <form method="post"
          action="/admin/challenge/delete/{{ c.id }}"
          style="display:inline"
          onsubmit="return confirm('Challenge wirklich lÃ¶schen? Alle Aufgaben & Abgaben gehen verloren.')">
      <button type="submit" class="reset">ğŸ—‘</button>
    </form>
  </li>
{% endfor %}
</ul>

{% endblock %}
